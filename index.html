<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä Sitemap</title>
    <script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
    <script>
        vkBridge.send('VKWebAppInit');
    </script>
    <style>
        /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ –≤ —Å—Ç–∏–ª–µ VK */
        body {
            font-family: Arial, sans-serif;
            background-color: #e7e8ec;
            margin: 0;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            width: 90%;
            max-width: 600px;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        h1, h2 {
            color: #4a76a8;
            text-align: center;
        }

        input, select, textarea {
            width: calc(100% - 20px);
            padding: 10px;
            margin: 10px auto;
            display: block;
            border: 1px solid #dfe1e5;
            border-radius: 4px;
            font-size: 14px;
            background-color: #fff;
            color: #2c2d30;
        }

        button {
            background-color: #4a76a8;
            color: #fff;
            padding: 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            width: 100%;
            margin-top: 10px;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: #3a5a78;
        }

        #sitemap-output {
            resize: none;
            background-color: #f9fafb;
        }

        .button-group {
            text-align: center;
            margin-top: 10px;
        }

        #url-list {
            background-color: #f9fafb;
            padding: 10px;
            border-radius: 4px;
            list-style-type: none;
            border: 1px solid #dfe1e5;
            max-height: 150px;
            overflow-y: auto;
            margin-bottom: 15px;
        }

        #url-list li {
            padding: 5px 0;
            color: #2c2d30;
            border-bottom: 1px solid #e7e8ec;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 8px;
            text-align: center;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–µ–∫—Ü–∏–∏ FAQ */
        .faq-section {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9fafb;
            border-radius: 8px;
            border: 1px solid #dfe1e5;
        }

        .faq-section h2 {
            text-align: center;
            color: #4a76a8;
        }

        .faq-section details {
            margin-bottom: 10px;
        }

        .faq-section summary {
            font-weight: bold;
            cursor: pointer;
        }

        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 480px) {
            .container {
                width: 95%;
                padding: 15px;
            }

            input, select, textarea {
                width: calc(100% - 10px);
            }
        }
    </style>
</head>
<body>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ -->
    <div id="onboardingModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeOnboarding()">&times;</span>
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä Sitemap!</h2>
            <p>–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª sitemap.xml –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞, —á—Ç–æ —É–ª—É—á—à–∏—Ç –µ–≥–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.</p>
            <button onclick="nextOnboarding()">–î–∞–ª–µ–µ</button>
        </div>
    </div>

    <div class="container">
        <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä Sitemap</h1>

        <label for="url">URL:</label>
        <input type="text" id="url" placeholder="–í–≤–µ–¥–∏—Ç–µ URL" />

        <label for="priority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</label>
        <input type="number" id="priority" value="0.5" step="0.1" min="0" max="1" />

        <label for="changefreq">–ß–∞—Å—Ç–æ—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:</label>
        <select id="changefreq">
            <option value="always">–í—Å–µ–≥–¥–∞</option>
            <option value="hourly">–ö–∞–∂–¥—ã–π —á–∞—Å</option>
            <option value="daily">–ö–∞–∂–¥—ã–π –¥–µ–Ω—å</option>
            <option value="weekly">–ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é</option>
            <option value="monthly">–ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü</option>
            <option value="yearly">–ö–∞–∂–¥—ã–π –≥–æ–¥</option>
            <option value="never">–ù–∏–∫–æ–≥–¥–∞</option>
        </select>

        <label for="lastmod">–ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ (YYYY-MM-DD):

         <input type="date" id="lastmod" />

        <div class="button-group">
            <button id="add-url">–î–æ–±–∞–≤–∏—Ç—å URL</button>
            <button id="generate-sitemap">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Sitemap</button>
            <button id="reset-all">–°–±—Ä–æ—Å</button>
            <button id="download-sitemap">–°–∫–∞—á–∞—Ç—å sitemap.xml</button>
            <button onclick="fillExample()" style="margin-top:10px; background-color: #5cb85c;">–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏–º–µ—Ä–æ–º</button>
        </div>

        <h2>–°–ø–∏—Å–æ–∫ URL</h2>
        <ul id="url-list"></ul>

        <h2>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Sitemap XML</h2>
        <textarea id="sitemap-output" rows="10" readonly></textarea>

        <div class="faq-section">
            <h2>üìò –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
            <details>
                <summary>–ß—Ç–æ —Ç–∞–∫–æ–µ URL?</summary>
                <p>–≠—Ç–æ –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ. –ü—Ä–∏–º–µ—Ä: https://example.com/page1</p>
            </details>
            <details>
                <summary>–ß—Ç–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ?</summary>
                <p>–û—Ç 0.0 –¥–æ 1.0 ‚Äî —á–µ–º –≤—ã—à–µ —á–∏—Å–ª–æ, —Ç–µ–º –≤–∞–∂–Ω–µ–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –≥–ª–∞–≤–Ω–æ–π 1.0, –¥–ª—è –æ–±—ã—á–Ω–æ–π —Å—Ç–∞—Ç—å–∏ ‚Äî 0.5.</p>
            </details>
            <details>
                <summary>–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å —á–∞—Å—Ç–æ—Ç—É –∏–∑–º–µ–Ω–µ–Ω–∏—è?</summary>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ, –∫–∞–∫ —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –µ–∂–µ–º–µ—Å—è—á–Ω–æ –∏ —Ç.–ø.</p>
            </details>
            <details>
                <summary>–§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã?</summary>
                <p>–î–∞—Ç–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD. –ü—Ä–∏–º–µ—Ä: 2024-12-01.</p>
            </details>
        </div>
    </div>

    <script>
        const urlList = [];

        document.getElementById('add-url').onclick = function() {
            const url = document.getElementById('url').value;
            const priority = document.getElementById('priority').value;
            const changefreq = document.getElementById('changefreq').value;
            const lastmod = document.getElementById('lastmod').value;

            if (url) {
                urlList.push({ url, priority, changefreq, lastmod });
                updateUrlList();
                clearInputs();
            } else {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ URL.');
            }
        };

        document.getElementById('generate-sitemap').onclick = function() {
            const sitemapXml = generateSitemapXml();
            document.getElementById('sitemap-output').value = sitemapXml;
        };

        document.getElementById('reset-all').onclick = function() {
            urlList.length = 0;
            updateUrlList();
            clearInputs();
            document.getElementById('sitemap-output').value = '';
        };

        document.getElementById('download-sitemap').onclick = function() {
            const sitemapXml = document.getElementById('sitemap-output').value;
            if (sitemapXml) {
                downloadFile(sitemapXml, 'sitemap.xml', 'application/xml');
            } else {
                alert('–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ Sitemap.');
            }
        };

        function updateUrlList() {
            const urlListElement = document.getElementById('url-list');
            urlListElement.innerHTML = '';
            urlList.forEach((item) => {
                const li = document.createElement('li');
                li.textContent = item.url;
                urlListElement.appendChild(li);
            });
        }

        function clearInputs() {
            document.getElementById('url').value = '';
            document.getElementById('priority').value = '0.5';
            document.getElementById('changefreq').value = 'never';
            document.getElementById('lastmod').value = new Date().toISOString().split('T')[0];
        }

        function generateSitemapXml() {
            let xml = '<?xml version="1.0" encoding="UTF-8"?>\n';
            xml += '<urlset xmlns="https://www.sitemaps.org/schemas/sitemap/0.9">\n';

            urlList.forEach(item => {
                xml += `  <url>\n`;
                xml += `    <loc>${item.url}</loc>\n`;
                xml += `    <priority>${item.priority}</priority>\n`;
                xml += `    <changefreq>${item.changefreq}</changefreq>\n`;
                xml += `    <lastmod>${item.lastmod}</lastmod>\n`;
                xml += `  </url>\n`;
            });

            xml += '</urlset>';
            return xml;
        }

        function downloadFile(content, fileName, mimeType) {
            const a = document.createElement('a');
            const file = new Blob([content], { type: mimeType });
            a.href = URL.createObjectURL(file);
            a.download = fileName;
            a.click();
            URL.revokeObjectURL(a.href);
        }

        function fillExample() {
            document.getElementById('url').value = 'https://example.com/';
            document.getElementById('priority').value = '1.0';
            document.getElementById('changefreq').value = 'daily';
            document.getElementById('lastmod').value = new Date().toISOString().split('T')[0];
        }

        // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞
        window.onload = function() {
            const modal = document.getElementById('onboardingModal');
            modal.style.display = 'block';
        };

        function nextOnboarding() {
            const modal = document.getElementById('onboardingModal');
            modal.querySelector('p').innerText = '–í–≤–µ–¥–∏—Ç–µ URL –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–∞–∂–º–∏—Ç–µ ‚Äú–î–æ–±–∞–≤–∏—Ç—å URL‚Äù. –ö–æ–≥–¥–∞ —Å–ø–∏—Å–æ–∫ –≥–æ—Ç–æ–≤ ‚Äî –Ω–∞–∂–º–∏—Ç–µ ‚Äú–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Sitemap‚Äù.';
            modal.querySelector('button').innerText = '–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É';
            modal.querySelector('button').onclick = closeOnboarding;
        }

        function closeOnboarding() {
            document.getElementById('onboardingModal').style.display = 'none';
        }
    </script>
</body>
</html>

